<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Embed</title>
</head>
<body>
    <!-- Production Configuration -->
    <script>
        // Production test configuration
        window.SimpleChatEmbedConfig = {
            socketUrl: "wss://hub.memox.io",
            workflowId: "a2b8ad41-9fb7-40ed-8e5d-d64cbcad8f03",
            title: "Container Solutions",
            welcomeMessage: "Welcome! Browse our shipping container inventory or get instant help.",
            quickQuestions: [
                "What's the price of a 20ft container?",
                "What container grades do you offer?",
                "How long does delivery take?"
            ],
            quickQuestionsPermanent: false,

            // Backend API configuration
            api: {
                baseUrl: "https://hub.memox.io/api/v1",
                token: "eedb5fc2b457815409e45f3b1dc023c276c9cedb",
                endpoints: {
                    products: "/products/",
                    categories: "/categories/",
                    visitors: "/visitors/"
                }
            },

            // Products configuration - supports multiple data sources
            products: {
                // Option 1: Fetch from backend API
                // endpoint: "https://hub.memox.io/api/v1/products/",

                // Option 2: Inline product data (fallback)
                // data: [],

                // Option 3: Use embedded fallback data (current default)
                useEmbeddedFallback: true,

                // Product display configuration
                displayFields: {
                    showPrice: true,
                    showOriginalPrice: true,
                    showSavings: true,
                    showDelivery: true,
                    showPickup: true,
                    showCategory: true,
                    showType: true
                },

                // Sorting configuration
                sorting: {
                    enabled: true,
                    defaultSort: 'price-low',
                    options: [
                        { id: 'price-low', label: 'Price: Low to High' },
                        { id: 'price-high', label: 'Price: High to Low' },
                        { id: 'size-20ft', label: 'Size: 20ft First' },
                        { id: 'size-40ft', label: 'Size: 40ft First' },
                        { id: 'name-asc', label: 'Name A-Z' },
                        { id: 'delivery', label: 'Delivery Time' }
                    ]
                }
            },

            // Categories configuration - now configurable from HTML
            categories: {
                // Option 1: Fetch from backend API
                // endpoint: "https://hub.memox.io/api/v1/categories/",

                // Option 2: Inline category data
                data: [
                    {
                        id: '1_trip',
                        name: '1 Trip Containers',
                        description: 'Single-use shipping containers',
                        icon: 'üöö',
                        filter: { type: '1 trip' }
                    },
                    {
                        id: 'cargo_worthy',
                        name: 'Cargo Worthy',
                        description: 'High-quality containers for cargo transport',
                        icon: 'üì¶',
                        filter: { type: 'cargo worthy' }
                    },
                    {
                        id: 'wind_water_tight',
                        name: 'Wind & Water Tight',
                        description: 'Weather-resistant containers',
                        icon: 'üõ°Ô∏è',
                        filter: { type: 'wind & water tight' }
                    },
                    {
                        id: 'economy_grade',
                        name: 'Economy Grade',
                        description: 'Budget-friendly container options',
                        icon: 'üí∞',
                        filter: { type: 'economy' }
                    },
                    {
                        id: 'multi_trip',
                        name: 'Multi-Trip',
                        description: 'Reusable containers for multiple shipments',
                        icon: 'üîÑ',
                        filter: { type: 'multi-trip' }
                    },
                    {
                        id: 'office_containers',
                        name: 'Office Containers',
                        description: 'Containers modified for office use',
                        icon: 'üè¢',
                        filter: { type: 'office' }
                    },
                    {
                        id: 'accessories',
                        name: 'Accessories',
                        description: 'Container accessories and modifications',
                        icon: 'üîß',
                        filter: { type: 'accessory' }
                    }
                ],

                // Category display options
                displayOptions: {
                    showIcons: true,
                    showDescriptions: true,
                    maxColumns: 1
                }
            },

            entryPoints: {
                enabled: true,
                title: "How can we help you?",
                options: [
                    {
                        id: "get_info",
                        label: "Get Information",
                        description: "Learn about our services",
                        requiresForm: false
                    },
                    {
                        id: "browse_products",
                        label: "Browse Products",
                        description: "View shipping containers with sorting",
                        requiresForm: false
                    },
                    {
                        id: "book_call",
                        label: "Book a Call",
                        description: "Schedule a consultation",
                        requiresForm: true,
                        formFields: ["name", "email", "phone", "zip", "preferred_date", "preferred_time"]
                    },
                    {
                        id: "support",
                        label: "Receive Support",
                        description: "Get help with your account or issues",
                        requiresForm: true,
                        formFields: ["support_type"]
                    }
                ]
            },

            theme: {
                primary: '#8349ff',
                headerBg: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                userBubble: '#8349ff',
                botBubble: '#f8f9fa',
                userText: '#fff',
                botText: '#2d3748',
                background: '#fff',
                border: '#e2e8f0',
                text: '#2d3748',
                headerText: '#fff',
                inputBg: '#fff',
                inputText: '#2d3748',
                sendBtnBg: '#8349ff',
                sendBtnText: '#fff',
                sendBtnHover: '#6b2fff'
            }
        };
    </script>

    <!-- Load the chat embed -->
    <script src="./chat-embed.js"></script>
</body>
</html>
